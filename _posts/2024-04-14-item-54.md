---
layout: post
title: item 54 null이 아닌 빈 컬렉션이나 배열을 반환하라
date: 2024-04-14 11:58 +0900
categories: ["이펙티브 자바"]
tags: [java]
---

# null이 아닌 빈 컬렉션이나 배열을 반환하라


## 개요

- 메서드에서 컬렉션 또는 배열을 반환할 때, null을 반환하는 것보다는 빈 컬렉션 또는 배열을 반환하는 것이 더 좋다는 것을 강조합니다. 
- 이는 클라이언트 코드에서 null 체크를 줄여주고, 코드의 가독성과 안정성을 향상시킵니다.

## 문제점

- 메서드가 null을 반환하면 클라이언트 코드에서 null 체크를 해야 합니다. 
- 이는 코드를 복잡하게 만들고 예외 상황을 처리하는 데 추가적인 로직을 필요로 합니다. 
- 또한 null을 반환하는 경우, 클라이언트 코드에서 NullPointerException이 발생할 가능성이 있습니다.

## 해결법

> 빈 컬렉션 또는 배열을 반환함으로써 이러한 문제를 해결할 수 있습니다. 빈 컬렉션은 null을 반환하는 것보다 더 안전하고 간편하며, 클라이언트 코드에서 추가적인 null 체크를 하지 않아도 됩니다.


## 의문

### 빈컬렉션을 매번 생성하는것도 비용이 아닌가?
- 위 의문은 2가지 이유로 틀렸습니다
- 성능저하의 주범이라고 판단되지 않는 한 신경 쓸 이유가 되지 못합니다
- 굳이 새로 매번 할당하지 않고 불변 컬렉션을 쓰면 됩니다

```java
// 올바른 예: 빈 컬렉션을 반환하는 경우
public List<String> getNames() {
    if (조건) {
        return Collections.emptyList();
    }
    // 반환할 데이터가 없는 경우
    return Collections.emptyList();
}
```

## 장점
1. 클라이언트 코드에서 null 체크를 할 필요가 없어집니다.
2. 코드의 가독성이 향상됩니다.
3. 예외 상황을 처리하는 로직이 간소화됩니다.
4. NullPointerException 발생 가능성이 줄어듭니다.
